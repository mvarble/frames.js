module.exports=function(r){var n={};function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var o in r)t.d(e,o,function(n){return r[n]}.bind(null,o));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="",t(t.s=2)}([function(r,n){r.exports=require("unist-util-visit")},function(r,n){r.exports=require("lodash/cloneDeep")},function(r,n,t){"use strict";function e(r){return function(r){if(Array.isArray(r))return o(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"==typeof r)return o(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function i(){return[[1,0,0],[0,1,0],[0,0,1]]}function u(r){var n=e(new Array(r[0].length)),t=e(new Array(r.length));return n.map((function(n,e){return t.map((function(n,t){return r[t][e]}))}))}function a(r,n){return r.reduce((function(r,t,e){return r+t*n[e]}),0)}function c(r,n){var t=u(n),o=e(new Array(t.length));return r.reduce((function(r,n){return[].concat(e(r),[o.map((function(r,e){return a(n,t[e])}))])}),[])}function f(r){var n=function(r){return r[0][0]*r[1][1]-r[0][1]*r[1][0]}(r);return c([[r[1][1]/n,-r[0][1]/n,0],[-r[1][0]/n,r[0][0]/n,0],[0,0,1]],[[1,0,-r[0][2]],[0,1,-r[1][2]],[0,0,1]])}function l(r,n){return Math.pow(r,n)}function d(r){return Math.sin(r)}function s(r){return Math.cos(r)}function p(r){return l(r.reduce((function(r,n){return r+n*n}),0),.5)}t.r(n),t.d(n,"identityFrame",(function(){return v})),t.d(n,"prepLoc",(function(){return w})),t.d(n,"prepLocs",(function(){return M})),t.d(n,"prepVec",(function(){return x})),t.d(n,"prepVecs",(function(){return h})),t.d(n,"prepArray",(function(){return g})),t.d(n,"prepArrays",(function(){return O})),t.d(n,"frameToFrameMatrix",(function(){return j})),t.d(n,"locFrameTrans",(function(){return A})),t.d(n,"locsFrameTrans",(function(){return F})),t.d(n,"vecFrameTrans",(function(){return S})),t.d(n,"vecsFrameTrans",(function(){return T})),t.d(n,"multiplyMatrixStack",(function(){return L})),t.d(n,"withChild",(function(){return R})),t.d(n,"withWorldMatrix",(function(){return V})),t.d(n,"giveWorldMatrix",(function(){return k})),t.d(n,"normalizedFrame",(function(){return $})),t.d(n,"normalizeFrame",(function(){return q})),t.d(n,"transformedByMatrix",(function(){return B})),t.d(n,"transformWithMatrix",(function(){return G})),t.d(n,"translatedFrame",(function(){return H})),t.d(n,"translateFrame",(function(){return J})),t.d(n,"rotatedFrame",(function(){return K})),t.d(n,"rotateFrame",(function(){return N})),t.d(n,"scaledFrame",(function(){return Q})),t.d(n,"scaleFrame",(function(){return X})),t.d(n,"withRatio",(function(){return Z})),t.d(n,"giveRatio",(function(){return rr})),t.d(n,"identity",(function(){return i})),t.d(n,"transpose",(function(){return u})),t.d(n,"dot",(function(){return a})),t.d(n,"multiply",(function(){return c})),t.d(n,"inv",(function(){return f})),t.d(n,"pow",(function(){return l})),t.d(n,"sin",(function(){return d})),t.d(n,"cos",(function(){return s})),t.d(n,"norm",(function(){return p}));var m={identity:i,transpose:u,dot:a,multiply:c,inv:f,pow:l,sin:d,cos:s,norm:p};function y(r){return function(r){if(Array.isArray(r))return b(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"==typeof r)return b(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}var v={type:"frame",worldMatrix:m.identity()},w=function(r){return m.transpose([[].concat(y(r),[1])])},M=function(r){return m.transpose(r.map((function(r){return[].concat(y(r),[1])})))},x=function(r){return m.transpose([[].concat(y(r),[0])])},h=function(r){return m.transpose(r.map((function(r){return[].concat(y(r),[0])})))},g=function(r){return m.transpose(r)[0].slice(0,-1)},O=function(r){return m.transpose(r).map((function(r){return r.slice(0,-1)}))},j=function(r,n){return m.multiply(m.inv(n.worldMatrix),r.worldMatrix)},A=function(r,n,t){return g(m.multiply(j(n,t),w(r)))},F=function(r,n,t){return O(m.multiply(j(n,t),M(r)))},S=function(r,n,t){return g(m.multiply(j(n,t),x(r)))},T=function(r,n,t){return O(m.multiply(j(n,t),h(r)))},P=t(1),I=t.n(P),W=t(0),_=t.n(W);function C(r){return function(r){if(Array.isArray(r))return D(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"==typeof r)return D(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function E(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,e)}return t}function z(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function L(r){return r.length?1==r.length?r[0]:2==r.length?m.multiply(r[1],r[0]):m.multiply(r.slice(-1)[0],L(r.slice(0,-1))):m.identity()}var R=function(r,n){return function(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){z(r,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}))}return r}({},r,{children:[n].concat(C(r.children))})};function V(r,n){var t=I()(r),e=m.inv(t.worldMatrix);return _()(t,(function(r,t,o){o&&r.worldMatrix&&(r.worldMatrix=L([r.worldMatrix,e,n]))})),t.worldMatrix=n,t}function k(r,n){var t=m.inv(r.worldMatrix);return _()(r,(function(r,e,o){o&&r.worldMatrix&&(r.worldMatrix=L([r.worldMatrix,t,n]))})),r.worldMatrix=n,r}function U(r){var n=r.worldMatrix,t=[[n[0][0],n[1][0]],[n[0][1],n[1][1]]].map((function(r){var n=m.norm(r);return r.map((function(r){return r/n}))}));return[[].concat(C(t[0]),[n[0][2]]),[].concat(C(t[1]),[n[1][2]]),[0,0,1]]}function $(r){return V(r,U(r))}function q(r){return k(r,U(r))}function B(r,n,t){return V(r,L(t?[r.worldMatrix,m.inv(t.worldMatrix),n,t.worldMatrix]:[n,r.worldMatrix]))}function G(r,n,t){return k(r,L(t?[r.worldMatrix,m.inv(t.worldMatrix),n,t.worldMatrix]:[n,r.worldMatrix]))}var H=function(r,n,t){return B(r,[[1,0,n[0]],[0,1,n[1]],[0,0,1]],t)},J=function(r,n,t){return G(r,[[1,0,n[0]],[0,1,n[1]],[0,0,1]],t)},K=function(r,n,t){return B(r,[[m.cos(n),-m.sin(n),0],[m.sin(n),m.cos(n),0],[0,0,1]],t)},N=function(r,n,t){return G(r,[[m.cos(n),-m.sin(n),0],[m.sin(n),m.cos(n),0],[0,0,1]],t)},Q=function(r,n,t){return B(r,[[n[0],0,0],[0,n[1],0],[0,0,1]],t)},X=function(r,n,t){return G(r,[[n[0],0,0],[0,n[1],0],[0,0,1]],t)},Y=function(r,n){var t=m.transpose(r.worldMatrix).reduce((function(r,n,t){return 2==t?r:[].concat(C(r),[m.norm(n.slice(0,2))])}),[]);return m.pow(n*t[1]/t[0],.5)},Z=function(r,n){var t=Y(r,n);return Q(r,[t,1/t])},rr=function(r,n){var t=Y(r,n);return X(r,[t,1/t])};n.default={identityFrame:v,prepLoc:w,prepLocs:M,prepVec:x,prepVecs:h,prepArray:g,prepArrays:O,frameToFrameMatrix:j,locFrameTrans:A,locsFrameTrans:F,vecFrameTrans:S,vecsFrameTrans:T,multiplyMatrixStack:L,withChild:R,withWorldMatrix:V,giveWorldMatrix:k,normalizedFrame:$,normalizeFrame:q,transformedByMatrix:B,transformWithMatrix:G,translatedFrame:H,translateFrame:J,rotatedFrame:K,rotateFrame:N,scaledFrame:Q,scaleFrame:X,withRatio:Z,giveRatio:rr,identity:i,transpose:u,dot:a,multiply:c,inv:f,pow:l,sin:d,cos:s,norm:p}}]);